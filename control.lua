local Players = game:GetService("Players")

local setups = {
    bank = {
        Vector3.new(-390.25, 16.07561492919922, -326.49993896484375),
        Vector3.new(-384.25, 16.07561492919922, -326.49993896484375),
        Vector3.new(-372.25, 16.07561492919922, -326.49993896484375),
        Vector3.new(-378.25, 16.07561492919922, -326.49993896484375),
        Vector3.new(-360.25, 16.07561492919922, -326.49993896484375),
        Vector3.new(-366.25, 16.07561492919922, -326.49993896484375),
        Vector3.new(-360.25, 16.07561492919922, -317.49993896484375),
        Vector3.new(-366.25, 16.07561492919922, -317.49993896484375),
        Vector3.new(-378.25, 16.07561492919922, -317.49993896484375),
        Vector3.new(-372.25, 16.07561492919922, -317.49993896484375),
        Vector3.new(-384.25, 16.07561492919922, -317.49993896484375),
        Vector3.new(-390.25, 16.07561492919922, -317.49993896484375),
        Vector3.new(-360.25, 16.07561492919922, -309.49993896484375),
        Vector3.new(-366.25, 16.07561492919922, -309.49993896484375),
        Vector3.new(-378.25, 16.07561492919922, -309.49993896484375),
        Vector3.new(-372.25, 16.07561492919922, -309.49993896484375),
        Vector3.new(-384.25, 16.07561492919922, -309.49993896484375),
        Vector3.new(-390.25, 16.07561492919922, -309.49993896484375),
        Vector3.new(-360.25, 16.07561492919922, -301.49993896484375),
        Vector3.new(-366.25, 16.07561492919922, -301.49993896484375),
        Vector3.new(-378.25, 16.07561492919922, -301.49993896484375),
        Vector3.new(-372.25, 16.07561492919922, -301.49993896484375),
        Vector3.new(-384.25, 16.07561492919922, -301.49993896484375),
        Vector3.new(-390.25, 16.07561492919922, -301.49993896484375),
    },
    school = {
        Vector3.new(-605.625, 16.07561492919922, 196.00006103515625),
        Vector3.new(-599.625, 16.07561492919922, 196.00006103515625),
        Vector3.new(-587.625, 16.07561492919922, 196.00006103515625),
        Vector3.new(-593.625, 16.07561492919922, 196.00006103515625),
        Vector3.new(-575.625, 16.07561492919922, 196.00006103515625),
        Vector3.new(-581.625, 16.07561492919922, 196.00006103515625),
        Vector3.new(-575.625, 16.07561492919922, 205.00006103515625),
        Vector3.new(-581.625, 16.07561492919922, 205.00006103515625),
        Vector3.new(-593.625, 16.07561492919922, 205.00006103515625),
        Vector3.new(-587.625, 16.07561492919922, 205.00006103515625),
        Vector3.new(-599.625, 16.07561492919922, 205.00006103515625),
        Vector3.new(-605.625, 16.07561492919922, 205.00006103515625),
        Vector3.new(-575.625, 16.07561492919922, 213.00006103515625),
        Vector3.new(-581.625, 16.07561492919922, 213.00006103515625),
        Vector3.new(-593.625, 16.07561492919922, 213.00006103515625),
        Vector3.new(-587.625, 16.07561492919922, 213.00006103515625),
        Vector3.new(-599.625, 16.07561492919922, 213.00006103515625),
        Vector3.new(-605.625, 16.07561492919922, 213.00006103515625),
        Vector3.new(-575.625, 16.07561492919922, 221.00006103515625),
        Vector3.new(-581.625, 16.07561492919922, 221.00006103515625),
        Vector3.new(-593.625, 16.07561492919922, 221.00006103515625),
        Vector3.new(-587.625, 16.07561492919922, 221.00006103515625),
        Vector3.new(-599.625, 16.07561492919922, 221.00006103515625),
        Vector3.new(-605.625, 16.07561492919922, 221.00006103515625),
    },
    soccer = {
        Vector3.new(-947.6702270507812, 16.07561492919922, -494.70001220703125),
        Vector3.new(-941.6702270507812, 16.07561492919922, -494.70001220703125),
        Vector3.new(-929.6702270507812, 16.07561492919922, -494.70001220703125),
        Vector3.new(-935.6702270507812, 16.07561492919922, -494.70001220703125),
        Vector3.new(-917.6702270507812, 16.07561492919922, -494.70001220703125),
        Vector3.new(-923.6702270507812, 16.07561492919922, -494.70001220703125),
        Vector3.new(-917.6702270507812, 16.07561492919922, -485.70001220703125),
        Vector3.new(-923.6702270507812, 16.07561492919922, -485.70001220703125),
        Vector3.new(-935.6702270507812, 16.07561492919922, -485.70001220703125),
        Vector3.new(-929.6702270507812, 16.07561492919922, -485.70001220703125),
        Vector3.new(-941.6702270507812, 16.07561492919922, -485.70001220703125),
        Vector3.new(-947.6702270507812, 16.07561492919922, -485.70001220703125),
        Vector3.new(-917.6702270507812, 16.07561492919922, -477.7000427246094),
        Vector3.new(-923.6702270507812, 16.07561492919922, -477.7000427246094),
        Vector3.new(-935.6702270507812, 16.07561492919922, -477.7000427246094),
        Vector3.new(-929.6702270507812, 16.07561492919922, -477.7000427246094),
        Vector3.new(-941.6702270507812, 16.07561492919922, -477.7000427246094),
        Vector3.new(-947.6702270507812, 16.07561492919922, -477.7000427246094),
        Vector3.new(-917.6702270507812, 16.07561492919922, -469.7000427246094),
        Vector3.new(-923.6702270507812, 16.07561492919922, -469.7000427246094),
        Vector3.new(-935.6702270507812, 16.07561492919922, -469.7000427246094),
        Vector3.new(-929.6702270507812, 16.07561492919922, -469.7000427246094),
        Vector3.new(-941.6702270507812, 16.07561492919922, -469.7000427246094),
        Vector3.new(-947.6702270507812, 16.07561492919922, -469.7000427246094),
    }
}

local function teleportPlayer(player, position)
    local char = player.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        char.HumanoidRootPart.CFrame = CFrame.new(position)
    end
end

local function handleChat(plr, msg)
    local ownerInstance = Players:GetPlayerByUserId(getgenv().owner)
    if not ownerInstance then return end
    if plr.UserId ~= ownerInstance.UserId then return end
    msg = msg:lower()
    if msg:sub(1,7) == ".setup " then
        local setupName = msg:sub(8)
        local positions = setups[setupName]
        if positions then
            local index = 1
            for _, userId in ipairs(getgenv().alts) do
                local alt = Players:GetPlayerByUserId(userId)
                if alt and positions[index] then
                    teleportPlayer(alt, positions[index])
                    index += 1
                end
            end
        end
    end
end

for _, plr in ipairs(Players:GetPlayers()) do
    plr.Chatted:Connect(function(msg)
        handleChat(plr, msg)
    end)
end

Players.PlayerAdded:Connect(function(plr)
    plr.Chatted:Connect(function(msg)
        handleChat(plr, msg)
    end)
end)
